all: clean github gpt4 ghanalysis cp paper

clean:
	-rm -rf data/github/code 
	-rm -rf data/github/excluded
	-rm -rf data/github/selected*
	-rm -rf data/conceptual_prompting/code
	-rm -rf data/conceptual_prompting/testdirs
	-rm -rf data/gpt4/code
	-rm -rf results
	cd data/github; tar zxvf code_orig.tgz

github:
	python move_autogenerated_files.py
	python process_code.py -d github
	python summarize_code_info.py -d github 
	python generate_code_prompts.py -d github

gpt4:
	python extract_gpt4_outputs.py
	python process_code.py -d gpt4
	python summarize_code_info.py -d gpt4

ghanalysis:
	python CodeAnalysis.py
	python summarize_flake8_errors.py

cp:
	python prepare_conceptual_prompting_outputs.py
	python run_coverage_tests_CP.py
	python run_execution_tests_CP.py
	python run_pytest_tests_CP.py

paper:
	cd preprint; quarto render AI_assisted_coding.qmd
